webpackJsonp([2,17],{329:function(e,t,n){n(384);var o=n(57)(n(350),n(406),null,null);e.exports=o.exports},341:function(e,t,n){"use strict";var o=n(60),i=n.n(o),s=i.a.Validator;t.a={methods:{Validator:s,validate:s.value,getFieldState:function(e){return this.validation.hasError(e)?"error":this.validation.isPassed(e)?"success":""},showFieldError:function(e,t){var n=e.target;n.classList.contains("mintui-field-error")&&n.parentNode.classList.contains("mint-field-state")&&this.$root.toast(this.validation.firstError(t),"error")}}}},345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{start:function(){var e=this;this.handle=setInterval(function(){e.second>0?e.second-=1:e.end()},1e3)},end:function(){clearInterval(this.handle),this.second=59,this.$emit("countdown-over")}},data:function(){return{handle:null,second:59}}}},346:function(e,t,n){var o=n(57)(n(345),n(347),null,null);e.exports=o.exports},347:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("small",[e._v(e._s(e.second)+" 秒后重发")])},staticRenderFns:[]}},350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(58),i=n.n(o),s=n(346),r=n.n(s),a=n(341),u=n(12),d=n(59);n.n(d);t.default={components:{FbCountdown:r.a},mixins:[a.a],validators:{"user.phone":function(e){return this.validate(e).required("请输入手机号").digit("请正确输入手机号").regex("^1[3-9]\\d{9}$","请正确输入手机号")},"user.code":function(e){return this.validate(e).required("请输入验证码").digit("请正确输入验证码").length(6,"请正确输入验证码")}},mounted:function(){this.$route.query.openid&&(this.user.openid=this.$route.query.openid),this.user.phone=this.$store.getters.user.phone||""},methods:i()({},n.i(d.mapActions)(["login","getMsgCode","getUser"]),{submit:function(){var e=this;this.$validate().then(function(t){t?e.login(e.user).then(function(t){e.$router.push({name:"authorizedTip"})}):e.$root.toast(e.validation.firstError(),"error")})},toGetMsgCode:function(){var e=this;this.$validate("user.phone").then(function(t){t?e.getMsgCode(e.user.phone).then(function(t){t.ret===u.a.OK&&(e.countdownVisible=!0,e.$refs.fnCountdown.start())}):e.$root.toast(e.validation.firstError("user.phone"),"error")})},onCountdownOver:function(){this.countdownVisible=!1}}),data:function(){return{countdownVisible:!1,user:{UserinfoValLogin:{},integraluserlevel:{},phone:"",code:""}}}}},370:function(e,t,n){t=e.exports=n(324)(),t.push([e.i,"\n.login-form {\n  padding: 10px 0;\n}\n","",{version:3,sources:["/./src/views/Login.vue"],names:[],mappings:";AACA;EACE,gBAAgB;CACjB",file:"Login.vue",sourcesContent:["\n.login-form {\n  padding: 10px 0;\n}\n"],sourceRoot:"webpack://"}])},384:function(e,t,n){var o=n(370);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(325)("1915d71b",o,!0)},406:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("form",{staticClass:"login-form",on:{submit:function(t){t.preventDefault(),e.submit()}}},[n("div",{staticClass:"fields"},[n("mt-field",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],attrs:{label:"",placeholder:"请输入手机号",state:e.getFieldState("user.phone")},domProps:{value:e.user.phone},on:{input:function(t){e.user.phone=t}},nativeOn:{click:function(t){e.showFieldError(t,"user.phone")}}}),n("mt-field",{directives:[{name:"model",rawName:"v-model",value:e.user.code,expression:"user.code"}],attrs:{label:"",placeholder:"请输入验证码",state:e.getFieldState("user.code")},domProps:{value:e.user.code},on:{input:function(t){e.user.code=t}},nativeOn:{click:function(t){e.showFieldError(t,"user.code")}}},[n("mt-button",{attrs:{type:"default",disabled:e.countdownVisible},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.toGetMsgCode()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.countdownVisible,expression:"!countdownVisible"}]},[e._v("发送验证码")]),n("fb-countdown",{directives:[{name:"show",rawName:"v-show",value:e.countdownVisible,expression:"countdownVisible"}],ref:"fnCountdown",on:{"countdown-over":function(t){e.onCountdownOver()}}})],1)],1)],1),n("div",{staticClass:"form-buttons"},[n("mt-button",{staticClass:"mint-button-block",attrs:{type:"primary",size:"large"}},[e._v("登录")])],1)])])},staticRenderFns:[]}}});
//# sourceMappingURL=2.70a858f78b0da2cc9fdc.js.map