webpackJsonp([3],{376:function(t,e,n){n(452);var o=n(40)(n(413),n(481),"data-v-c1aa720a",null);t.exports=o.exports},383:function(t,e,n){"use strict";var o=n(71),i=n.n(o),s=i.a.Validator;e.a={methods:{Validator:s,validate:s.value,getFieldState:function(t){return this.validation.hasError(t)?"error":this.validation.isPassed(t)?"success":""},showFieldError:function(t,e){var n=t.target;n.classList.contains("mintui-field-error")&&n.parentNode.classList.contains("mint-field-state")&&this.$toast(this.validation.firstError(e),"error")}}}},388:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{start:function(){var t=this;this.handle=setInterval(function(){t.second>0?t.second-=1:t.end()},1e3)},end:function(){clearInterval(this.handle),this.second=59,this.$emit("countdown-over")}},data:function(){return{handle:null,second:59}}}},394:function(t,e,n){t.exports=n.p+"static/img/logo.9d5ffe3.jpg"},395:function(t,e,n){var o=n(40)(n(388),n(397),null,null);t.exports=o.exports},397:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("small",[t._v(t._s(t.second)+" 秒后重发")])},staticRenderFns:[]}},413:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(41),i=n.n(o),s=n(395),r=n.n(s),a=n(383),c=n(8),u=n(42),d=n(26),l=n(16);e.default={components:{FbCountdown:r.a},mixins:[a.a],validators:{"user.phone":function(t){return this.validate(t).required("请输入手机号").digit("请正确输入手机号").regex("^1[3-9]\\d{9}$","请正确输入手机号")},"user.captcha":function(t){return this.validate(t).required("请输入验证码").digit("请正确输入验证码").length(6,"请正确输入验证码")}},beforeRouteEnter:function(t,e,n){t.query.accesstoken?(t.query.accesstoken,l.a.dispatch("updateToken",t.query.accesstoken),l.a.dispatch("getUser").then(function(e){n({name:t.query.to||"authorizedTip"})})):n()},mounted:function(){this.redirect=decodeURIComponent(this.$route.query.redirect),this.$route.query.openid&&(this.user.openid=this.$route.query.openid),this.user.phone=this.$store.getters.user.phone||n.i(d.a)(c.c)},methods:i()({},n.i(u.a)(["login","getMsgCode","getUser","updateToken"]),{submit:function(){var t=this;this.$validate().then(function(e){e?t.login(t.user).then(function(e){e.code===c.a.OK&&t.$router.push({path:t.redirect||"/"})}):t.$toast(t.validation.firstError(),"error")})},toGetMsgCode:function(){var t=this;this.$validate("user.phone").then(function(e){e?t.getMsgCode(t.user.phone).then(function(e){e.code===c.a.OK&&(t.countdownVisible=!0,t.$refs.fnCountdown.start())}):t.$toast(t.validation.firstError("user.phone"),"error")})},onCountdownOver:function(){this.countdownVisible=!1}}),data:function(){return{redirect:null,countdownVisible:!1,user:{phone:"",captcha:"",loginType:this.isWeixin()?2:~"production".indexOf("app")?1:0}}}}},433:function(t,e,n){e=t.exports=n(361)(),e.push([t.i,".logo[data-v-c1aa720a]{background:#fff}",""])},452:function(t,e,n){var o=n(433);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(362)("198a26aa",o,!0)},481:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t._m(0),n("form",{staticClass:"login-form",on:{submit:function(e){e.preventDefault(),t.submit()}}},[n("div",{staticClass:"fields"},[n("mt-field",{attrs:{label:"",placeholder:"请输入手机号",state:t.getFieldState("user.phone")},nativeOn:{click:function(e){t.showFieldError(e,"user.phone")}},model:{value:t.user.phone,callback:function(e){t.user.phone=e},expression:"user.phone"}}),n("mt-field",{attrs:{label:"",placeholder:"请输入验证码",state:t.getFieldState("user.captcha")},nativeOn:{click:function(e){t.showFieldError(e,"user.captcha")}},model:{value:t.user.captcha,callback:function(e){t.user.captcha=e},expression:"user.captcha"}},[n("mt-button",{attrs:{type:"default",disabled:t.countdownVisible},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toGetMsgCode()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.countdownVisible,expression:"!countdownVisible"}]},[t._v("发送验证码")]),n("fb-countdown",{directives:[{name:"show",rawName:"v-show",value:t.countdownVisible,expression:"countdownVisible"}],ref:"fnCountdown",on:{"countdown-over":function(e){t.onCountdownOver()}}})],1)],1)],1),n("div",{staticClass:"form-buttons"},[n("mt-button",{staticClass:"mint-button-block",attrs:{type:"primary",size:"large"}},[t._v("登录")])],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"logo"},[o("img",{attrs:{src:n(394)}}),o("small",[t._v("免审核借款1000元")])])}]}}});